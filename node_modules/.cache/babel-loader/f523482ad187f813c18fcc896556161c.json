{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pickBy2 = require('lodash/pickBy');\n\nvar _pickBy3 = _interopRequireDefault(_pickBy2);\n\nvar _forIn2 = require('lodash/forIn');\n\nvar _forIn3 = _interopRequireDefault(_forIn2);\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _redux = require('redux');\n\nvar _reactRedux = require('react-redux');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _core = require('./core');\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _initializer = require('./utils/initializer');\n\nvar _initializer2 = _interopRequireDefault(_initializer);\n\nvar _listenerUtils = require('./utils/listenerUtils');\n\nvar _actions = require('./actions');\n\nvar actions = _interopRequireWildcard(_actions);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Griddle = function (_Component) {\n  _inherits(Griddle, _Component);\n\n  function Griddle(props) {\n    _classCallCheck(this, Griddle);\n\n    var _this = _possibleConstructorReturn(this, (Griddle.__proto__ || Object.getPrototypeOf(Griddle)).call(this, props));\n\n    _this.getStoreKey = function () {\n      return _this.props.storeKey || Griddle.storeKey || 'store';\n    };\n\n    var _props$core = props.core,\n        core = _props$core === undefined ? _core2.default : _props$core,\n        _props$storeKey = props.storeKey,\n        storeKey = _props$storeKey === undefined ? Griddle.storeKey || 'store' : _props$storeKey;\n\n    var _init$call = _initializer2.default.call(_this, core),\n        initialState = _init$call.initialState,\n        reducer = _init$call.reducer,\n        reduxMiddleware = _init$call.reduxMiddleware;\n\n    var composeEnhancers = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || _redux.compose;\n    _this.store = (0, _redux.createStore)(reducer, initialState, composeEnhancers(_redux.applyMiddleware.apply(undefined, _toConsumableArray(reduxMiddleware))));\n    _this.provider = (0, _reactRedux.createProvider)(storeKey);\n    _this.storeListener = new _listenerUtils.StoreListener(_this.store);\n    (0, _forIn3.default)(_this.listeners, function (listener, name) {\n      _this.storeListener.addListener(listener, name, {\n        events: _this.events,\n        selectors: _this.selectors\n      });\n    });\n    return _this;\n  }\n\n  _createClass(Griddle, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var newState = (0, _pickBy3.default)(nextProps, function (value, key) {\n        return _this2.props[key] !== value;\n      }); // Only update the state if something has changed.\n\n      if (Object.keys(newState).length > 0) {\n        this.store.dispatch(actions.updateState(newState));\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      // As relevant property updates are captured in `componentWillReceiveProps`.\n      // return false to prevent the the entire root node from being deleted.\n      return false;\n    }\n  }, {\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        components: this.components,\n        settingsComponentObjects: this.settingsComponentObjects,\n        events: this.events,\n        selectors: this.selectors,\n        storeKey: this.getStoreKey(),\n        storeListener: this.storeListener\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.components.Layout) {\n        return null;\n      }\n\n      return _react2.default.createElement(this.provider, {\n        store: this.store\n      }, _react2.default.createElement(this.components.Layout, null));\n    }\n  }]);\n\n  return Griddle;\n}(_react.Component);\n\nGriddle.childContextTypes = {\n  components: _propTypes2.default.object.isRequired,\n  settingsComponentObjects: _propTypes2.default.object,\n  events: _propTypes2.default.object,\n  selectors: _propTypes2.default.object,\n  storeKey: _propTypes2.default.string,\n  storeListener: _propTypes2.default.object\n};\nGriddle.storeKey = 'store';\nexports.default = Griddle;","map":{"version":3,"sources":["C:/Users/shree/Desktop/smarte/node_modules/griddle-react/dist/module/index.js"],"names":["Object","defineProperty","exports","value","_pickBy2","require","_pickBy3","_interopRequireDefault","_forIn2","_forIn3","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_redux","_reactRedux","_react","_react2","_propTypes","_propTypes2","_core","_core2","_initializer","_initializer2","_listenerUtils","_actions","actions","_interopRequireWildcard","obj","__esModule","newObj","hasOwnProperty","call","default","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Griddle","_Component","_this","getPrototypeOf","getStoreKey","storeKey","_props$core","core","undefined","_props$storeKey","_init$call","initialState","reducer","reduxMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","apply","provider","createProvider","storeListener","StoreListener","listeners","listener","name","addListener","events","selectors","componentWillReceiveProps","nextProps","_this2","newState","keys","dispatch","updateState","shouldComponentUpdate","getChildContext","components","settingsComponentObjects","render","Layout","createElement","Component","childContextTypes","object","isRequired","string"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,eAAD,CAAtB;;AAEA,IAAIC,QAAQ,GAAGC,sBAAsB,CAACH,QAAD,CAArC;;AAEA,IAAII,OAAO,GAAGH,OAAO,CAAC,cAAD,CAArB;;AAEA,IAAII,OAAO,GAAGF,sBAAsB,CAACC,OAAD,CAApC;;AAEA,IAAIE,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,UAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AAA2BE,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4BnB,MAAAA,MAAM,CAACC,cAAP,CAAsBW,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBX,gBAAgB,CAACU,WAAW,CAACG,SAAb,EAAwBF,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBZ,gBAAgB,CAACU,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAII,MAAM,GAAGpB,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIqB,WAAW,GAAGrB,OAAO,CAAC,aAAD,CAAzB;;AAEA,IAAIsB,MAAM,GAAGtB,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIuB,OAAO,GAAGrB,sBAAsB,CAACoB,MAAD,CAApC;;AAEA,IAAIE,UAAU,GAAGxB,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIyB,WAAW,GAAGvB,sBAAsB,CAACsB,UAAD,CAAxC;;AAEA,IAAIE,KAAK,GAAG1B,OAAO,CAAC,QAAD,CAAnB;;AAEA,IAAI2B,MAAM,GAAGzB,sBAAsB,CAACwB,KAAD,CAAnC;;AAEA,IAAIE,YAAY,GAAG5B,OAAO,CAAC,qBAAD,CAA1B;;AAEA,IAAI6B,aAAa,GAAG3B,sBAAsB,CAAC0B,YAAD,CAA1C;;AAEA,IAAIE,cAAc,GAAG9B,OAAO,CAAC,uBAAD,CAA5B;;AAEA,IAAI+B,QAAQ,GAAG/B,OAAO,CAAC,WAAD,CAAtB;;AAEA,IAAIgC,OAAO,GAAGC,uBAAuB,CAACF,QAAD,CAArC;;AAEA,SAASE,uBAAT,CAAiCC,GAAjC,EAAsC;AAAE,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B;AAAE,WAAOD,GAAP;AAAa,GAA1C,MAAgD;AAAE,QAAIE,MAAM,GAAG,EAAb;;AAAiB,QAAIF,GAAG,IAAI,IAAX,EAAiB;AAAE,WAAK,IAAInB,GAAT,IAAgBmB,GAAhB,EAAqB;AAAE,YAAIvC,MAAM,CAACwB,SAAP,CAAiBkB,cAAjB,CAAgCC,IAAhC,CAAqCJ,GAArC,EAA0CnB,GAA1C,CAAJ,EAAoDqB,MAAM,CAACrB,GAAD,CAAN,GAAcmB,GAAG,CAACnB,GAAD,CAAjB;AAAyB;AAAE;;AAACqB,IAAAA,MAAM,CAACG,OAAP,GAAiBL,GAAjB;AAAsB,WAAOE,MAAP;AAAgB;AAAE;;AAE7Q,SAASlC,sBAAT,CAAgCgC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEK,IAAAA,OAAO,EAAEL;AAAX,GAArC;AAAwD;;AAE/F,SAASM,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,MAAIC,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,SAAK,IAAIhC,CAAC,GAAG,CAAR,EAAWmC,IAAI,GAAGF,KAAK,CAACD,GAAG,CAAC/B,MAAL,CAA5B,EAA0CD,CAAC,GAAGgC,GAAG,CAAC/B,MAAlD,EAA0DD,CAAC,EAA3D,EAA+D;AAAEmC,MAAAA,IAAI,CAACnC,CAAD,CAAJ,GAAUgC,GAAG,CAAChC,CAAD,CAAb;AAAmB;;AAAC,WAAOmC,IAAP;AAAc,GAA7H,MAAmI;AAAE,WAAOF,KAAK,CAACG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM,SAASK,eAAT,CAAyBC,QAAzB,EAAmC/B,WAAnC,EAAgD;AAAE,MAAI,EAAE+B,QAAQ,YAAY/B,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIgC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0CZ,IAA1C,EAAgD;AAAE,MAAI,CAACY,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOb,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0EY,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAAClC,SAAT,GAAqBxB,MAAM,CAAC4D,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACnC,SAAvC,EAAkD;AAAEqC,IAAAA,WAAW,EAAE;AAAE1D,MAAAA,KAAK,EAAEuD,QAAT;AAAmBzC,MAAAA,UAAU,EAAE,KAA/B;AAAsCE,MAAAA,QAAQ,EAAE,IAAhD;AAAsDD,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAIyC,UAAJ,EAAgB3D,MAAM,CAAC8D,cAAP,GAAwB9D,MAAM,CAAC8D,cAAP,CAAsBJ,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACK,SAAT,GAAqBJ,UAA3F;AAAwG;;AAE9e,IAAIK,OAAO,GAAG,UAAUC,UAAV,EAAsB;AAClCR,EAAAA,SAAS,CAACO,OAAD,EAAUC,UAAV,CAAT;;AAEA,WAASD,OAAT,CAAiBnD,KAAjB,EAAwB;AACtBsC,IAAAA,eAAe,CAAC,IAAD,EAAOa,OAAP,CAAf;;AAEA,QAAIE,KAAK,GAAGZ,0BAA0B,CAAC,IAAD,EAAO,CAACU,OAAO,CAACD,SAAR,IAAqB/D,MAAM,CAACmE,cAAP,CAAsBH,OAAtB,CAAtB,EAAsDrB,IAAtD,CAA2D,IAA3D,EAAiE9B,KAAjE,CAAP,CAAtC;;AAEAqD,IAAAA,KAAK,CAACE,WAAN,GAAoB,YAAY;AAC9B,aAAOF,KAAK,CAACrD,KAAN,CAAYwD,QAAZ,IAAwBL,OAAO,CAACK,QAAhC,IAA4C,OAAnD;AACD,KAFD;;AAIA,QAAIC,WAAW,GAAGzD,KAAK,CAAC0D,IAAxB;AAAA,QACIA,IAAI,GAAGD,WAAW,KAAKE,SAAhB,GAA4BxC,MAAM,CAACY,OAAnC,GAA6C0B,WADxD;AAAA,QAEIG,eAAe,GAAG5D,KAAK,CAACwD,QAF5B;AAAA,QAGIA,QAAQ,GAAGI,eAAe,KAAKD,SAApB,GAAgCR,OAAO,CAACK,QAAR,IAAoB,OAApD,GAA8DI,eAH7E;;AAKA,QAAIC,UAAU,GAAGxC,aAAa,CAACU,OAAd,CAAsBD,IAAtB,CAA2BuB,KAA3B,EAAkCK,IAAlC,CAAjB;AAAA,QACII,YAAY,GAAGD,UAAU,CAACC,YAD9B;AAAA,QAEIC,OAAO,GAAGF,UAAU,CAACE,OAFzB;AAAA,QAGIC,eAAe,GAAGH,UAAU,CAACG,eAHjC;;AAKA,QAAIC,gBAAgB,GAAG,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACC,oCAAxC,IAAgFvD,MAAM,CAACwD,OAA9G;AACAf,IAAAA,KAAK,CAACgB,KAAN,GAAc,CAAC,GAAGzD,MAAM,CAAC0D,WAAX,EAAwBP,OAAxB,EAAiCD,YAAjC,EAA+CG,gBAAgB,CAACrD,MAAM,CAAC2D,eAAP,CAAuBC,KAAvB,CAA6Bb,SAA7B,EAAwC3B,kBAAkB,CAACgC,eAAD,CAA1D,CAAD,CAA/D,CAAd;AAEAX,IAAAA,KAAK,CAACoB,QAAN,GAAiB,CAAC,GAAG5D,WAAW,CAAC6D,cAAhB,EAAgClB,QAAhC,CAAjB;AAEAH,IAAAA,KAAK,CAACsB,aAAN,GAAsB,IAAIrD,cAAc,CAACsD,aAAnB,CAAiCvB,KAAK,CAACgB,KAAvC,CAAtB;AACA,KAAC,GAAGzE,OAAO,CAACmC,OAAZ,EAAqBsB,KAAK,CAACwB,SAA3B,EAAsC,UAAUC,QAAV,EAAoBC,IAApB,EAA0B;AAC9D1B,MAAAA,KAAK,CAACsB,aAAN,CAAoBK,WAApB,CAAgCF,QAAhC,EAA0CC,IAA1C,EAAgD;AAAEE,QAAAA,MAAM,EAAE5B,KAAK,CAAC4B,MAAhB;AAAwBC,QAAAA,SAAS,EAAE7B,KAAK,CAAC6B;AAAzC,OAAhD;AACD,KAFD;AAGA,WAAO7B,KAAP;AACD;;AAEDxD,EAAAA,YAAY,CAACsD,OAAD,EAAU,CAAC;AACrB5C,IAAAA,GAAG,EAAE,2BADgB;AAErBjB,IAAAA,KAAK,EAAE,SAAS6F,yBAAT,CAAmCC,SAAnC,EAA8C;AACnD,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,QAAQ,GAAG,CAAC,GAAG7F,QAAQ,CAACsC,OAAb,EAAsBqD,SAAtB,EAAiC,UAAU9F,KAAV,EAAiBiB,GAAjB,EAAsB;AACpE,eAAO8E,MAAM,CAACrF,KAAP,CAAaO,GAAb,MAAsBjB,KAA7B;AACD,OAFc,CAAf,CAHmD,CAOnD;;AACA,UAAIH,MAAM,CAACoG,IAAP,CAAYD,QAAZ,EAAsBpF,MAAtB,GAA+B,CAAnC,EAAsC;AACpC,aAAKmE,KAAL,CAAWmB,QAAX,CAAoBhE,OAAO,CAACiE,WAAR,CAAoBH,QAApB,CAApB;AACD;AACF;AAboB,GAAD,EAcnB;AACD/E,IAAAA,GAAG,EAAE,uBADJ;AAEDjB,IAAAA,KAAK,EAAE,SAASoG,qBAAT,GAAiC;AACtC;AACA;AACA,aAAO,KAAP;AACD;AANA,GAdmB,EAqBnB;AACDnF,IAAAA,GAAG,EAAE,iBADJ;AAEDjB,IAAAA,KAAK,EAAE,SAASqG,eAAT,GAA2B;AAChC,aAAO;AACLC,QAAAA,UAAU,EAAE,KAAKA,UADZ;AAELC,QAAAA,wBAAwB,EAAE,KAAKA,wBAF1B;AAGLZ,QAAAA,MAAM,EAAE,KAAKA,MAHR;AAILC,QAAAA,SAAS,EAAE,KAAKA,SAJX;AAKL1B,QAAAA,QAAQ,EAAE,KAAKD,WAAL,EALL;AAMLoB,QAAAA,aAAa,EAAE,KAAKA;AANf,OAAP;AAQD;AAXA,GArBmB,EAiCnB;AACDpE,IAAAA,GAAG,EAAE,QADJ;AAEDjB,IAAAA,KAAK,EAAE,SAASwG,MAAT,GAAkB;AACvB,UAAI,CAAC,KAAKF,UAAL,CAAgBG,MAArB,EAA6B;AAC3B,eAAO,IAAP;AACD;;AAED,aAAOhF,OAAO,CAACgB,OAAR,CAAgBiE,aAAhB,CACL,KAAKvB,QADA,EAEL;AAAEJ,QAAAA,KAAK,EAAE,KAAKA;AAAd,OAFK,EAGLtD,OAAO,CAACgB,OAAR,CAAgBiE,aAAhB,CAA8B,KAAKJ,UAAL,CAAgBG,MAA9C,EAAsD,IAAtD,CAHK,CAAP;AAKD;AAZA,GAjCmB,CAAV,CAAZ;;AAgDA,SAAO5C,OAAP;AACD,CAnFa,CAmFZrC,MAAM,CAACmF,SAnFK,CAAd;;AAqFA9C,OAAO,CAAC+C,iBAAR,GAA4B;AAC1BN,EAAAA,UAAU,EAAE3E,WAAW,CAACc,OAAZ,CAAoBoE,MAApB,CAA2BC,UADb;AAE1BP,EAAAA,wBAAwB,EAAE5E,WAAW,CAACc,OAAZ,CAAoBoE,MAFpB;AAG1BlB,EAAAA,MAAM,EAAEhE,WAAW,CAACc,OAAZ,CAAoBoE,MAHF;AAI1BjB,EAAAA,SAAS,EAAEjE,WAAW,CAACc,OAAZ,CAAoBoE,MAJL;AAK1B3C,EAAAA,QAAQ,EAAEvC,WAAW,CAACc,OAAZ,CAAoBsE,MALJ;AAM1B1B,EAAAA,aAAa,EAAE1D,WAAW,CAACc,OAAZ,CAAoBoE;AANT,CAA5B;AAUAhD,OAAO,CAACK,QAAR,GAAmB,OAAnB;AAEAnE,OAAO,CAAC0C,OAAR,GAAkBoB,OAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pickBy2 = require('lodash/pickBy');\n\nvar _pickBy3 = _interopRequireDefault(_pickBy2);\n\nvar _forIn2 = require('lodash/forIn');\n\nvar _forIn3 = _interopRequireDefault(_forIn2);\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _redux = require('redux');\n\nvar _reactRedux = require('react-redux');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _core = require('./core');\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _initializer = require('./utils/initializer');\n\nvar _initializer2 = _interopRequireDefault(_initializer);\n\nvar _listenerUtils = require('./utils/listenerUtils');\n\nvar _actions = require('./actions');\n\nvar actions = _interopRequireWildcard(_actions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Griddle = function (_Component) {\n  _inherits(Griddle, _Component);\n\n  function Griddle(props) {\n    _classCallCheck(this, Griddle);\n\n    var _this = _possibleConstructorReturn(this, (Griddle.__proto__ || Object.getPrototypeOf(Griddle)).call(this, props));\n\n    _this.getStoreKey = function () {\n      return _this.props.storeKey || Griddle.storeKey || 'store';\n    };\n\n    var _props$core = props.core,\n        core = _props$core === undefined ? _core2.default : _props$core,\n        _props$storeKey = props.storeKey,\n        storeKey = _props$storeKey === undefined ? Griddle.storeKey || 'store' : _props$storeKey;\n\n    var _init$call = _initializer2.default.call(_this, core),\n        initialState = _init$call.initialState,\n        reducer = _init$call.reducer,\n        reduxMiddleware = _init$call.reduxMiddleware;\n\n    var composeEnhancers = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || _redux.compose;\n    _this.store = (0, _redux.createStore)(reducer, initialState, composeEnhancers(_redux.applyMiddleware.apply(undefined, _toConsumableArray(reduxMiddleware))));\n\n    _this.provider = (0, _reactRedux.createProvider)(storeKey);\n\n    _this.storeListener = new _listenerUtils.StoreListener(_this.store);\n    (0, _forIn3.default)(_this.listeners, function (listener, name) {\n      _this.storeListener.addListener(listener, name, { events: _this.events, selectors: _this.selectors });\n    });\n    return _this;\n  }\n\n  _createClass(Griddle, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var newState = (0, _pickBy3.default)(nextProps, function (value, key) {\n        return _this2.props[key] !== value;\n      });\n\n      // Only update the state if something has changed.\n      if (Object.keys(newState).length > 0) {\n        this.store.dispatch(actions.updateState(newState));\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      // As relevant property updates are captured in `componentWillReceiveProps`.\n      // return false to prevent the the entire root node from being deleted.\n      return false;\n    }\n  }, {\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        components: this.components,\n        settingsComponentObjects: this.settingsComponentObjects,\n        events: this.events,\n        selectors: this.selectors,\n        storeKey: this.getStoreKey(),\n        storeListener: this.storeListener\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.components.Layout) {\n        return null;\n      }\n\n      return _react2.default.createElement(\n        this.provider,\n        { store: this.store },\n        _react2.default.createElement(this.components.Layout, null)\n      );\n    }\n  }]);\n\n  return Griddle;\n}(_react.Component);\n\nGriddle.childContextTypes = {\n  components: _propTypes2.default.object.isRequired,\n  settingsComponentObjects: _propTypes2.default.object,\n  events: _propTypes2.default.object,\n  selectors: _propTypes2.default.object,\n  storeKey: _propTypes2.default.string,\n  storeListener: _propTypes2.default.object\n};\n\n\nGriddle.storeKey = 'store';\n\nexports.default = Griddle;"]},"metadata":{},"sourceType":"script"}